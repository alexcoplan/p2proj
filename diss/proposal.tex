% Note: this file can be compiled on its own, but is also included by
% diss.tex (using the docmute.sty package to ignore the preamble)
\documentclass[12pt,a4paper,twoside]{article}
\usepackage[UKenglish]{isodate}
\usepackage[pdfborder={0 0 0}]{hyperref}
\usepackage[margin=25mm]{geometry}
\usepackage{graphicx}
\usepackage{parskip}
\usepackage{enumitem}
% \usepackage{mathpazo}
% \usepackage{eulervm}
\usepackage{microtype}

\usepackage[style=numeric,backend=bibtex]{biblatex}
\bibliography{refs.bib}

\begin{document}

\cleanlookdateon

\begin{center}
\Large
Computer Science Tripos -- Part II -- Project Proposal\\[4mm]
\LARGE
A Comparison of Markov Techniques and Recurrent Neural Networks Applied to the Generation of Music\\[4mm]

\large
Alex Coplan, St Catharine's College

Originator: Alex Coplan

\today
\end{center}

\vspace{5mm}

\textbf{Project Supervisor:} 

\textbf{Director of Studies:} Dr S. Taraskin

\textbf{Project Overseers:} Dr M. Fiore \& Dr I. Leslie

% Main document

\section*{Introduction}

The goal of this project is to implement, evaluate, and compare two different techniques for the algorithmic generation of music. In particular, the two classes of techniques I intend to consider for this project are:
\begin{itemize}[itemsep=0mm]
	\item Markov techniques, such as Markov chains, hidden Markov models (HMMs), and other context models.
	\item Recurrent neural networks.
\end{itemize}

Investigations into algorithmic composition often restrict the domain of source material to stem from a particular musical idiom \cite{pearce2001evaluation}. This is desirable for a number of reasons, not least because it introduces a useful evaluation criterion: do the compositions produced by the system exhibit a coherent musical style, consistent with that exhibited by the material in the corpus?

I am particularly interested in the generation of melody, and ultimately, polyphony. A large volume of research has already been performed in computational \emph{homophonic} harmonisation, an extremely popular example being the harmonisation of Lutherian chorale melodies in the style of J.S. Bach, e.g.\ \cite{allan2005chorales}\cite{phon2002computational}\cite{phon1999four}\cite{whorley2015improved}.

The problem of homophonic harmonisation is essentially ``given a melody, output a list of chords that accompany the melody''. An investigation into polyphonic composition might begin by considering melody composition, and may later be developed by considering the problem ``given a melody (the \emph{subject}), compose a second (independent) melody (the \emph{countersubject}) which interacts with, and is coherent with the subject.''

My intention is that the project follow along these very lines, undertaking an investigation into the algorithmic composition of polyphonic music. The core of the project would therefore investigate the application of these techniques to melody generation, and, as an extension, an investigation would be carried out into the composition of polyphonic music, using these techniques and extensions thereof.

Markov processes are natural statistical models for the analysis of melody, and are well known as tools for composition \cite{ames1989markov}. Recently, recurrent neural networks have also received a lot of attention to this end. A number of improvements can be made over basic Markov models to heighten the quality of the output. Specifically, a basic pitch-duration Markov process disregards a considerable amount of musical information available in the context. 

For example, Conklin et al.\ \cite{conklin1995viewpoints} introduce the method of \emph{multiple viewpoints} which uses the interpolation of the predictions of many different context models, each of which considers a different musical attribute (or some combination of attributes). In this work, it is also conjectured that lower-entropy models generate music which is closer in style to that of the corpus. Whorley et al.\ \cite{whorley2016music} have recently successfully used the technique of multiple viewpoints along with information-theoretic analysis, demonstrating that lower entropy solutions correspond to improved output quality.

Conklin \cite{conklin2003music} notes that it is (largely) not necessary to distinguish between statistical music analysis and generation. Generation can be thought of as sampling from the empirically-determined distribution. Moreover, random walk, a common method for generating music from a Markov model, is not necessarily the best method for sampling from the model's distribution, in that it does not consistently yield compositions with high overall probability. In this project, I would therefore also consider exploring different techniques for sampling from Markov chains.

In order for this project to be evaluated effectively, in addition to any information-theoretic or music-theoretic analyses, it is necessary to perform listening trials on human subjects. Pearce et al.\ \cite{pearce2001evaluation} outline a framework for evaluation which allows more scientific claims to be made as a result of the evaluation process. Evaluation would be performed in the form of a blind trial where the subjects are asked to classify compositions as human or machine-composed. In this work, it is noted that the subjects used exhibited a bias towards classifying compositions as machine composed. This is something that should be taken into account when designing the evaluation methodology.

\section*{Starting point}

In Lent term of 2016, I gave a talk (as part of Churchill college's Computer Science talk series) on melody generation using Markov chains. I also constructed a demo in Ruby which implemented a parser for ABC notation\footnote{\url{http://abcnotation.com/}} along with a simple Markov chain model, trained of a small corpus of hymn tunes, which generated tunes by random walk. 

Although this experience lead me to this choice of project, I will not be using any of the code from this in my project. The Markov models (and any parsing code, internal representations, or frameworks for music theory) will be written from scratch in C++ or Java, and the neural network will be implemented using a library such as Google's TensorFlow\footnote{\url{https://www.tensorflow.org/}}.

As an organ scholar (and previously an A-Level music student), I have considerable experience with performing polyphonic music (and some experience of analysis), especially that of the renaissance and baroque eras. I believe this domain knowledge will prove especially useful for making musically-informed decisions in this project. 

\section*{Resources required}

For this project I shall primarily use my own laptop. Backup will be primarily in the form of a GitHub-hosted repository, but I will also perform backups of the project files to an external hard drive as well as multiple cloud providers (Google, Apple, Dropbox) and the MCS. Should my main computer suddenly fail, I can easily continue the project using MCS computers by cloning the code from the GitHub repository.

Although datasets can easily be compiled from online sources, it may also be of use to have a MIDI keyboard to be able to input arbitrary muscial data. I own a MIDI keyboard which would be suitable for these purposes. I will make use of open-source software (such as MuseScore\footnote{\url{https://musescore.org/}}) for synthesis of MIDI and other musical data. I require no other special resources.

\section*{Work to be done}

The project breaks down into the following sub-projects:

\begin{enumerate}

\item Devising and implementing an internal representation of musical data, along with a simple ``music theory engine'' to process this data.
\item Implementing a simple parser for some form of input notation (ABC, MIDI, MusicXML).
\item Implementing the first iteration of the Markov model for melody generation.
\item Implementing the first iteration of the RNN for melody generation.
\item etc.
	
  PostScript'' or PDF diagrams.

\end{enumerate}

\section*{Success citeria}

\emph{Describe what you expect to be able to demonstrate at the
end of the project and how you are going to evaluate your achievement.}

The project will be a success if I have a completed dissertation with
the correct chapter titles and I have achieved my other success
criteria, which are to blah \ldots


\section*{Possible extensions}

{\em Potential further envisaged evaluation metrics or extensions.}

If I achieve my main result early I shall try the following
alternative experiment or method of evaluation \ldots


\section*{Timetable}

\emph{A workplan of perhaps ten or so two-week work-packages,
as well as milestones to be achieved along the way. Provide a
target date for each milestone.}

Planned starting date is 16/10/2011.

\begin{enumerate}

\item \textbf{Michaelmas weeks 2--4} Learn to use X. Read book Y. Read papers Z.

\item \textbf{Michaelmas weeks 5--6} Do preliminary test of Q.

\item \textbf{Michaelmas weeks 7--8} Start implementation of main task A.

\item \textbf{Michaelmas vacation} Finish A and start main task B.

\item \textbf{Lent weeks 0--2} Write progress report. Generate corpus of
  test examples. Finish task B.

\item \textbf{Lent weeks 3--5} Run main experiments and achieve working project.

\item \textbf{Lent weeks 6--8} Second main deliverable here.

\item \textbf{Easter vacation:} Extensions and writing dissertation main
  chapters.

\item \textbf{Easter term 0--2:}  Further evaluation and complete dissertation.

\item \textbf{Easter term 3:} Proof reading and then an early submission
  so as to concentrate on examination revision.

\end{enumerate}

\printbibliography

\end{document}
